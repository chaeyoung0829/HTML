<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>일기 쓰기</title>
    <style>
        .container {
            position: relative;
            width: 1000px;
            margin-left: 0;
        }

        .line-image {
            position: absolute;
            top: 12px;
            left: 66%;
            width: 25px;
            height: 95%;
            filter: saturate(50%);
        }

        .image-box {
            position: absolute;
            top: 6%;
            left: 52%;
            width: 200px;
            height: 200px;
            border: 2px dashed #69b6d77d;
            margin: 20px auto;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .image-box img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }

        .upload-btn-wrapper {
            position: absolute;
            top: 39%;
            left: 57%;
        }

        .upload-btn-wrapper input[type="file"] {
            display: none;
        }

        .upload-btn {
            background-color: #505a50c4;
            color: white;
            padding: 10px 20px;
            font-size: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        img {
            width: 100%;
            height: auto;
            display: block;
        }

        .editable-container {
            position: absolute;
            top: 8%;
            left: 74%;
            width: 25%; /* 컨테이너의 너비 조정 */
        }

        .editable-container1 {
            position: absolute;
            top: 45%; /* 다른 위치로 조정 */
            left: 52%;
            width: 46%; /* 컨테이너의 너비 조정 */
        }

        .editable-container2 {
            position: absolute;
            top: 70%; /* 다른 위치로 조정 */
            left: 52%;
            width: 47%; /* 컨테이너의 너비 조정 */
        }

        .editable-line, .editable-line1, .editable-line2 {
            width: 100%;
            border-bottom: 2.6px solid #587aa296;
            font-size: 16px;
            padding: 2px 0;
            outline: none;
            white-space: nowrap; /* 줄 바꿈 불가 */
            overflow: hidden; /* 넘치는 텍스트 숨기기 */
            text-overflow: ellipsis; /* 텍스트 넘칠 때 생략 기호 */
        }

        .editable-container3 {
            position: absolute;
            top: 79%; /* 다른 위치로 조정 */
            left: 3%;
            width: 18%; /* 컨테이너의 너비 조정 */
        }

        .editable-container4 {
            position: absolute;
            top: 79%; /* 다른 위치로 조정 */
            left: 26%;
            width: 18%; /* 컨테이너의 너비 조정 */
        }

        .editable-line3,.editable-line4 {
            width: 100%;
            border-bottom: 2px solid #989b9f85;
            font-size: 16px;
            padding: 2px 0;
            outline: none;
            white-space: nowrap; /* 줄 바꿈 불가 */
            overflow: hidden; /* 넘치는 텍스트 숨기기 */
            text-overflow: ellipsis; /* 텍스트 넘칠 때 생략 기호 */
        }

        .editable-container5 {
            position: absolute;
            top: 10.4%; /* 다른 위치로 조정 */
            left: 27.3%;
            width: 17.5%; /* 컨테이너의 너비 조정 */
        }
        .editable-container6 {
            position: absolute;
            top: 32.7%; /* 다른 위치로 조정 */
            left: 24.3%;
            width: 21.7%; /* 컨테이너의 너비 조정 */
        }
        .editable-container7 {
            position: absolute;
            top: 41%; /* 다른 위치로 조정 */
            left: 1.8%;
            width: 21.7%; /* 컨테이너의 너비 조정 */
        }
        .editable-container8 {
            position: absolute;
            top: 58%; /* 다른 위치로 조정 */
            left: 1.8%;
            width: 21.7%; /* 컨테이너의 너비 조정 */
        }
        .editable-container9 {
            position: absolute;
            top: 45.5%; /* 다른 위치로 조정 */
            left: 24.3%;
            width: 21.7%; /* 컨테이너의 너비 조정 */
        }

        .editable-container10 {
            position: absolute;
            top: 62.3%; /* 다른 위치로 조정 */
            left: 24.3%;
            width: 21.7%; /* 컨테이너의 너비 조정 */
        }

        .editable-line5, .editable-line6, .editable-line7,.editable-line8,.editable-line9,.editable-line10 {
            width: 100%;
            border-bottom: 2.6px solid #466e9c6e;
            font-size: 16px;
            padding: 2px 0;
            outline: none;
            white-space: nowrap; /* 줄 바꿈 불가 */
            overflow: hidden; /* 넘치는 텍스트 숨기기 */
            text-overflow: ellipsis; /* 텍스트 넘칠 때 생략 기호 */
        }


        .editable-line { margin-top: 5px; } /* 줄 사이 간격 조정 */
        .editable-line1 { margin-top: 10px; } /* 줄 사이 간격 조정 */
        .editable-line2 { margin-top: 10px; } /* 줄 사이 간격 조정 */
        .editable-line3 { margin-top: 3px; } /* 줄 사이 간격 조정 */
        .editable-line4 { margin-top: 2px; } /* 줄 사이 간격 조정 */
        .editable-line5 { margin-top: 6.4px; } /* 줄 사이 간격 조정 */
        .editable-line6 { margin-top: 1.5px; } /* 줄 사이 간격 조정 */
        .editable-line7 { margin-top: 1.5px; } /* 줄 사이 간격 조정 */
        .editable-line8 { margin-top: 1.5px; } /* 줄 사이 간격 조정 */
        .editable-line9 { margin-top: 1.5px; } /* 줄 사이 간격 조정 */
        .editable-line10 { margin-top: 1.5px; } /* 줄 사이 간격 조정 */


    .save-btn {
        background-color: white;
        color: black;
        padding: 15px 45px;
        font-size: 15px;
        border: 2px solid black; /*겉에 검은 테두리*/
        border-radius: 10px;
        cursor: pointer;
        position: absolute;
        top: 7%;
        left: 74%;
        transform: translateX(-50%);
        text-align: right;
        padding-left: 10px; /* 왼쪽 패딩 추가 */
        padding-right: 50px; /* 오른쪽 패딩 유지 */
    }   

    .img-save {
        position: absolute;
        top: 10.5%;
        left: 74.5%;
        width: 2%;
        object-fit: cover; /* 컨테이너를 채우면서 비율 유지 */
        transform: translateY(-50%); /* 수직 중앙 정렬 */
        z-index: 1; /* 버튼 텍스트 위에 표시 */
    }

    .previous-btn {
        background-color: white;
        color: black;
        padding: 15px 60px;
        font-size: 15px;
        border: 2px solid black; /*겉에 검은 테두리*/
        border-radius: 10px;
        cursor: pointer;
        position: absolute;
        top: 7%;
        left: 83%;
        transform: translateX(-50%);
        text-align: right;
        padding-left: 10px; /* 왼쪽 패딩 추가 */
        padding-right: 70px; /* 오른쪽 패딩 유지 */
        text-decoration: none;
    }  

    .img-previous {
        position: absolute;
        top: 10.5%;
        left: 83%;
        width: 3%;
        object-fit: cover; /* 컨테이너를 채우면서 비율 유지 */
        transform: translateY(-50%); /* 수직 중앙 정렬 */
        z-index: 1; /* 버튼 텍스트 위에 표시 */
    }

    .copy-btn {
        background-color: white;
        color: black;
        padding: 15px 45px;
        font-size: 15px;
        border: 2px solid black; /*겉에 검은 테두리*/
        border-radius: 10px;
        cursor: pointer;
        position: absolute;
        top: 7%;
        left: 92%;
        transform: translateX(-50%);
        text-align: right;
        padding-left: 10px; /* 왼쪽 패딩 추가 */
        padding-right: 50px; /* 오른쪽 패딩 유지 */
    }
    .img-copy {
        position: absolute;
        top: 10.5%;
        left: 92%;
        width: 3%;
        object-fit: cover; /* 컨테이너를 채우면서 비율 유지 */
        transform: translateY(-50%); /* 수직 중앙 정렬 */
        z-index: 1; /* 버튼 텍스트 위에 표시 */
    }
  
      /*날짜 조정*/
        .date-picker-container {
            position: absolute;
            bottom: 70%; /* 하단에서 10px 위 */
            right: 9%; /* 오른쪽에서 10px 떨어진 위치 */
        }

        input[type="date"] {
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ccc;
            border-radius: 5px;
            background-color: #f9f9f9;
        }

        input[type="date"]:focus {
            border-color: #007BFF;
            background-color: #e9f5ff;
        }

        .move-btn {
            position: absolute;
            top: 25.5%;
            right: 5%;
            font-size: 15px;
        }

        #date-image {
            position: absolute;
            bottom: 50%;
            right: 10%;
            width: 150px; /* 원하는 크기로 조정 */
            height: auto;
        }

        .calendar-container {
            display: none;
            position: absolute;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
        }

        .sticker1-container {
            position: absolute;
            text-align: center;
           
        }

        #sticker1-area {
            position: absolute;
            top: -400px;
            left: 1070px;
            width: 400px;
            height: 400px;
            border: 1px solid #ddd;
            margin-top: 30%;
            overflow: hidden;
            background-color: #f0f0f0;
            overflow-y: auto; /*영역 다쓰면 밑으로 내릴 수 있도록 스크롤 바*/
            
        }

        .sticker1-btn {
            position: absolute; /* 스티커 영역을 기준으로 절대 위치 설정 */
            top: -450px;    /* 스티커 영역 상단에서 10px 떨어진 위치 */
            padding: 10px 10px;
            background-color: #a252c4a2;
            width: 120px;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 11px;
            cursor: pointer;
            transition: background-color 0.3s ease; /* 색상 변경 시 부드러운 전환 효과 */
        }

        /* 마우스를 버튼 위에 올렸을 때 */
        .sticker1-btn:hover {
            background-color: #c11e70c6; /* 진한 핑크 색상 */
        }

        .sticker1 {
            position: absolute;
            max-width: 30px;
            max-height: 30px;
            object-fit: contain;
            cursor: pointer; /* 스티커 고정 상태로 드래그 불가 */

        }

        .sticker1-btn:nth-of-type(1) {
            left: 1130px; /* 첫 번째 버튼 왼쪽 위치 설정 */
        }

        .sticker1-btn:nth-of-type(2) {
            left: 1300px; /* 두 번째 버튼 오른쪽으로 이동 */
        }

         /* 선택된 스티커에 대한 스타일 */
        .selected {
            border: 2px solid #a252c4a2; /* 선택된 이미지를 감싸는 테두리 */
        }

        .fullscreen-sticker-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: inline-block;
            z-index: 1000;
        }

        .fullscreen-sticker {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 80%;  /* 스티커 최대 크기 */
            max-height: 80%;
            width: auto;     /* 비율에 맞게 너비 자동 조정 */
            height: auto;    /* 비율에 맞게 높이 자동 조정 */
            z-index: 1000;
            cursor: grab;
            display: block;  /* 혹시나 inline-block이 문제라면 명확하게 block 설정 */
            /*box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2); /* 중앙 이미지에 그림자 추가 (선택 사항) */
        }


    </style>
</head>
<body>
    <div class="container">
        <img class="background-img" src="빈 일기.jpg" alt="배경 이미지">
        <div class="image-box">
            <img id="display-image" src="#" alt="이미지">
        </div>
        <div class="upload-btn-wrapper">
            <button class="upload-btn">사진 업로드</button>
            <input type="file" id="image-upload" accept="image/*">
        </div>
        <div class="editable-container">
            <div class="editable-line" contenteditable="true"></div>
            <div class="editable-line" contenteditable="true"></div>
            <div class="editable-line" contenteditable="true"></div>
            <div class="editable-line" contenteditable="true"></div>
            <div class="editable-line" contenteditable="true"></div>
            <div class="editable-line" contenteditable="true"></div>
            <div class="editable-line" contenteditable="true"></div>
        </div>

        <div class="editable-container1">
            <div class="editable-line1" contenteditable="true"></div>
            <div class="editable-line1" contenteditable="true"></div>
            <div class="editable-line1" contenteditable="true"></div>
        </div>

        <div class="editable-container2">
            <div class="editable-line2" contenteditable="true"></div>
            <div class="editable-line2" contenteditable="true"></div>
            <div class="editable-line2" contenteditable="true"></div>
            <div class="editable-line2" contenteditable="true"></div>
            <div class="editable-line2" contenteditable="true"></div>
        </div>

        <div class="editable-container3">
            <div class="editable-line3" contenteditable="true"></div>
            <div class="editable-line3" contenteditable="true"></div>
            <div class="editable-line3" contenteditable="true"></div>
            <div class="editable-line3" contenteditable="true"></div>
        </div>

        <div class="editable-container4">
            <div class="editable-line4" contenteditable="true"></div>
            <div class="editable-line4" contenteditable="true"></div>
            <div class="editable-line4" contenteditable="true"></div>
            <div class="editable-line4" contenteditable="true"></div>
        </div>

        <div class="editable-container5">
            <div class="editable-line5" contenteditable="true"></div>
            <div class="editable-line5" contenteditable="true"></div>
            <div class="editable-line5" contenteditable="true"></div>
        </div>

        <div class="editable-container6">
            <div class="editable-line6" contenteditable="true"></div>
            <div class="editable-line6" contenteditable="true"></div>
            <div class="editable-line6" contenteditable="true"></div>
        </div>

        <div class="editable-container7">
            <div class="editable-line7" contenteditable="true"></div>
            <div class="editable-line7" contenteditable="true"></div>
            <div class="editable-line7" contenteditable="true"></div>
            <div class="editable-line7" contenteditable="true"></div>
        </div>

        <div class="editable-container8">
            <div class="editable-line8" contenteditable="true"></div>
            <div class="editable-line8" contenteditable="true"></div>
            <div class="editable-line8" contenteditable="true"></div>
            <div class="editable-line8" contenteditable="true"></div>
        </div>

        <div class="editable-container9">
            <div class="editable-line9" contenteditable="true"></div>
            <div class="editable-line9" contenteditable="true"></div>
            <div class="editable-line9" contenteditable="true"></div>
            <div class="editable-line9" contenteditable="true"></div>
        </div>

        <div class="editable-container10">
            <div class="editable-line10" contenteditable="true"></div>
            <div class="editable-line10" contenteditable="true"></div>
        </div>
    </div>
    <img class="line-image" src="선.png" alt="이미지 설명">
    <button class="save-btn">저장</button>
    <img class="img-save" src="save button.png">

    <button class="previous-btn">이전</button>
    <img class="img-previous" src="previos button.png">
    <a href="main.html" class="previous-btn">이전</a>

    <button class="copy-btn">출처</button>
    <img class="img-copy" src="sticker.png">

    <!-- 달력 표시용 컨테이너 -->
    <div id="calendar-container" class="calendar-container">
        <div id="calendar"></div>
     </div>
 
    <!--날짜 선택-->
    <div class="date-picker-container">
       <label for="birthday">날짜를 선택하세요</label>
       <input type="date" id="birthday" name="birthday">
    </div>
 
    <button class="move-btn">이동</button>
 
     <!-- 저장 완료 메시지 (정중앙에 표시)-->
     <div id="save-message" style="display:none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: #d4edda; color: #155724; padding: 10px 20px; border-radius: 5px; z-index: 1000;">
         저장되었습니다!
     </div>

     <div class="sticker1-container">
        <button class="sticker1-btn" id="sticker1-btn">스티커 추가하기</button>
        <button class="sticker1-btn" id="stick-image-btn">붙이기</button>

        <input type="file" id="sticker1-upload" style="display: none;">
        <div id="sticker1-area">
            <!-- 추가된 스티커들이 여기 표시됩니다 -->
        </div>
    </div>
 

       <!--출처표시하기
    이미지 버튼
     <a target="_blank" href="https://icons8.com/icon/67555/favorite">하트</a> 작가: <a target="_blank" href="https://icons8.com">Icons8</a>
     <a  href="https://icons8.com/icon/rhjwSu93oV2L/이전">이전</a> icon by <a href="https://icons8.com">Icons8</a>
     <a target="_blank" href="https://icons8.com/icon/77121/online-store">저장</a> 작가: <a target="_blank" href="https://icons8.com">Icons8</a>
    <a target="_blank" href="https://icons8.com/icon/64007/umbrella">우산</a> 작가: <a target="_blank" href="https://icons8.com">Icons8</a>
     -->





    <script>

        // JavaScript 코드
        const imageUpload = document.getElementById('image-upload');
        const displayImage = document.getElementById('display-image');
        const editableLines = document.querySelectorAll('.editable-line, .editable-line1, .editable-line2,.editable-line3,.editable-line4,.editable-line5,.editable-line6,.editable-line7,.editable-line8,.editable-line9,.editable-line10');
        const saveBtn = document.querySelector('.save-btn');
        const saveMessage = document.getElementById('save-message');
        const datePicker = document.getElementById('birthday');
        const moveBtn = document.querySelector('.move-btn'); // 이동 버튼 선택
        const dateImage = document.getElementById('date-image');
        
        //스티커 업로드
        const sticker1Btn = document.getElementById('sticker1-btn');
        const sticker1Upload = document.getElementById('sticker1-upload');
        const sticker1Area = document.getElementById('sticker1-area');
        const stickImageBtn = document.getElementById('stick-image-btn');

        let stickerOffsetX = 10; // 스티커의 X축 위치를 관리하는 변수
        let stickerOffsetY = 0; // 스티커의 Y축 위치를 관리하는 변수
        const stickerWidth = 10; // 스티커가 배치될 때의 공간 계산에 사용
        const stickerHeight = 10; // 스티커 세로 크기
        const margin = 120; // 스티커 간의 간격

        let selectedSticker = null; // 현재 선택된 스티커를 저장하는 변수

        let currentDate = '';


        document.getElementById('image-upload').addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('display-image').src = e.target.result;
                }
                reader.readAsDataURL(file);
            }
        });

        document.querySelector('.upload-btn').addEventListener('click', function() {
            document.getElementById('image-upload').click();
        });

        datePicker.addEventListener('change', function() {
            currentDate = datePicker.value;
            if (currentDate) {
                renderDateToCanvas(currentDate); // 날짜를 이미지로 렌더링
                updateImageFromCanvas(); // 캔버스 이미지를 업데이트
            }
        });

        saveBtn.addEventListener('click', function() {
            if (currentDate) {
                saveDiary(currentDate);
                saveMessage.style.display = 'block';
                setTimeout(() => saveMessage.style.display = 'none', 2000);
            } else {
                alert('날짜를 선택해주세요.');
            }
        });

        moveBtn.addEventListener('click', function() {
            const selectedDate = datePicker.value;
            if (selectedDate) {
                currentDate = selectedDate;
                loadDiary(currentDate);
            } else {
                alert('날짜를 선택해주세요.');
            }
        });

        function saveDiary(date) {
            const diaryData = {
                text: Array.from(editableLines).map(line => line.innerText),
                image: displayImage.src,
            };
            localStorage.setItem(date, JSON.stringify(diaryData));
        }

        function loadDiary(date) {
            const savedData = localStorage.getItem(date);
            if (savedData) {
                const diaryData = JSON.parse(savedData);
                diaryData.text.forEach((text, index) => {
                    if (editableLines[index]) {
                        editableLines[index].innerText = text;
                    }
                });
                displayImage.src = diaryData.image || '#';
            } else {
                clearDiary();
            }
        }

        function clearDiary() {
            editableLines.forEach(line => line.innerText = '');
            displayImage.src = '#';
        }



        /*이건 텍스트가 줄바꿈이 동시에 적용안되서 추가한 것*/
        function handleInputEvent(event) {
            const line = event.target;
            const lines = document.querySelectorAll('.editable-line, .editable-line1, .editable-line2, .editable-line3,.editable-line4,.editable-line5,.editable-line6,.editable-line7,.editable-line8,.editable-line9,.editable-line10');
            const index = Array.from(lines).indexOf(line);

            if (line.scrollWidth > line.clientWidth) {
                line.innerText = line.innerText.slice(0, -1);
                if (index < lines.length - 1) {
                    lines[index + 1].focus();
                }
            }
        }


          // 스티커 추가하기 버튼 클릭 시 파일 선택 창 열기
          sticker1Btn.addEventListener('click', () => {
            sticker1Upload.click();
        });

        // 파일 선택 시 스티커 추가
        sticker1Upload.addEventListener('change', () => {
            const file = sticker1Upload.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.className = 'sticker';

                     // 이미지 크기 제한을 위해 max-width 및 max-height 적용
                    img.style.maxWidth = '120px';  // 스티커 영역의 너비를 넘지 않도록 제한
                    img.style.maxHeight = '120px'; // 스티커 영역의 높이를 넘지 않도록 제한
                    img.style.position = 'absolute';

                    // 스티커가 스티커 영역의 오른쪽 끝에 도달하면 다음 줄로 이동
                    if (stickerOffsetX + stickerWidth > sticker1Area.offsetWidth) {
                        stickerOffsetX = 10; // X 위치를 왼쪽으로 리셋
                        stickerOffsetY += stickerHeight + margin; // Y 위치를 아래로 이동
                    }

                    // 스티커 영역을 벗어나지 않도록 제한
                    if (stickerOffsetY + stickerHeight > sticker1Area.offsetHeight) {
                        alert('더 이상 스티커를 추가할 공간이 없습니다.');
                        return;
                    }

                    // 스티커 위치 설정
                    img.style.top = `${stickerOffsetY}px`; // Y 위치
                    img.style.left = `${stickerOffsetX}px`; // X 위치
                    sticker1Area.appendChild(img);

                    // X 위치를 스티커 너비만큼 이동
                    stickerOffsetX += stickerWidth + margin;


                    // 스티커 클릭 시 선택/해제 처리
                    img.addEventListener('click', function() {
                        // 기존 선택된 스티커가 있으면 선택 해제
                        if (selectedSticker) {
                            selectedSticker.classList.remove('selected');
                        }

                        // 현재 선택된 스티커가 클릭된 스티커와 다르면 새로 선택
                        if (selectedSticker !== img) {
                            img.classList.add('selected');
                            selectedSticker = img;
                        } else {
                            // 동일한 스티커를 다시 클릭하면 선택 해제
                            selectedSticker = null;
                        }
                    });
                    
                    };
                reader.readAsDataURL(file);
            }
        });

           // 붙이기 버튼 클릭 시 전체 화면 중앙에 이미지 배치
        stickImageBtn.addEventListener('click', () => {
            if (selectedSticker) {
                selectedSticker.classList.remove('selected');
                const fullscreenSticker = selectedSticker.cloneNode(); // 선택된 스티커를 복사
                fullscreenSticker.classList.add('fullscreen-sticker');
                document.body.appendChild(fullscreenSticker);

                // 중앙에 스티커 배치
                fullscreenSticker.style.position = 'fixed';
                fullscreenSticker.style.top = '50%';
                fullscreenSticker.style.left = '50%';
                fullscreenSticker.style.transform = 'translate(-50%, -50%)';

                // 이미지 이동 가능하게 설정
                makeDraggable(fullscreenSticker);
            } else {
                alert('이미지를 선택해주세요.');
            }
        });

        // 이미지 드래그 가능하게 설정
        function makeDraggable(element) {
            let isDragging = false;
            let offsetX = 0;
            let offsetY = 0;

            element.addEventListener('mousedown', (e) => {
                isDragging = true;
                offsetX = e.clientX - element.getBoundingClientRect().left;
                offsetY = e.clientY - element.getBoundingClientRect().top;
                element.style.cursor = 'grabbing';
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    element.style.left = `${e.clientX - offsetX}px`;
                    element.style.top = `${e.clientY - offsetY}px`;
                }
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
                element.style.cursor = 'grab';
            });
        }


        document.querySelectorAll('.editable-line, .editable-line1, .editable-line2,.editable-line3,.editable-line4,.editable-line5,.editable-line6,.editable-line7,.editable-line8,.editable-line9,.editable-line10').forEach(line => {
            line.addEventListener('input', handleInputEvent);
        });

          // 페이지가 로드될 때 초기화
          window.addEventListener('load', function() {
            currentDate = datePicker.value;
            if (currentDate) {
                loadDiary(currentDate);
            }
        });

    </script>
</body>
</html>